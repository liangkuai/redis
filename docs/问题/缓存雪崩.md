# 缓存雪崩


> **大量请求查询的缓存数据在某一时刻大批量过期失效，大量请求直接落在数据库上。**
>
> 或者 Redis 服务不可用。


### 解决

#### 1. 针对大量缓存同时失效

1. 过期时间加个随机值

在批量往 Redis 存数据的时候，把每个 key 的过期时间都加个随机值，防止数据在同一时间大面积失效。

2. 限流

3. 热点数据永不过期


#### 2. 针对服务不可用

1. Redis 集群

2. 多级缓存
