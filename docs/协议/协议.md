# Redis 协议

Redis Client 使用 RESP 协议（REdis Serialization Protocol）与 Redis Server 进行通信。



### 简单字符串

以 `+` 开头，`/r/n` 结尾。

```
"+OK\r\n"
```


### 整数

以 `:` 开头，`/r/n` 结尾。

```
":1\r\n"
```


### 批量字符串

返回内容分两部分：
1. 以 `$` 开头，后接实际要发送的**字节数**，`/r/n` 结尾；
2. 实际数据，`/r/n` 结尾。

```
"$6\r\nfoobar\r\n"
```

如果请求的值不存在，返回 -1 作为数据长度

```
"$-1"
```

Client 接收到之后会返回空对象，不过各种语言 Client 表示可能。Ruby 返回 `nil`，而 C 返回 `NULL`（等等。


### 数组

返回内容分两部分：
1. 以 `*` 开头，后接元素个数，`/r/n` 结尾；
2. 每个元素使用「批量字符串」的格式。

```
"*2\r\n$3\r\nfoo\r\n$3\r\nbar\r\n"
```